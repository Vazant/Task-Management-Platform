<app-layout [showHeader]="true" [showFooter]="true">
  <div class="tasks-container">
    <!-- Основной контент -->
    <main class="tasks-main">
      <!-- Заголовок страницы -->
      <section class="page-header">
        <div class="page-header-content">
          <h1 class="page-title">Задачи</h1>
          <p class="page-subtitle">Управляйте своими задачами эффективно</p>
        </div>
      </section>

      <!-- Контент задач -->
      <section class="tasks-content">
        <div class="tasks-card">
          <div class="tasks-header">
            <div class="tasks-icon">
              <i-lucide [img]="CheckSquare" [size]="32"></i-lucide>
            </div>
            <h2>Управление задачами</h2>
            <p>Продвинутая фильтрация и компоненты Material Design</p>
          </div>

          <!-- Фильтры задач -->
          <div class="tasks-filters">
            <app-task-filters
              [filters]="(selectTasksFilters | async) ?? {status:'all',priority:'all',assignee:'all',project:'all'}"
              [sortBy]="(selectTasksSortBy | async) ?? 'created'"
              (filtersChange)="onFiltersChange($event)"
              (sortChange)="onSortChange($event)">
            </app-task-filters>
            
            <app-task-advanced-filters
              [filters]="(selectTasksFilters | async) ?? {status:'all',priority:'all',assignee:'all',project:'all'}"
              (filtersChange)="onFiltersChange($event)"
              (clearFilters)="onFiltersChange({status:'all',priority:'all',assignee:'all',project:'all',query:''})">
            </app-task-advanced-filters>
          </div>

          <!-- Список задач -->
          <div class="tasks-list">
            <app-task-list [tasks]="(tasks$ | async) ?? []"></app-task-list>
          </div>
        </div>
      </section>
    </main>
  </div>
</app-layout>
